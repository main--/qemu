/*
 * MIPS instruction test case
 *
 *  Copyright (c) 2022 Jiaxun Yang
 *
 * SPDX-License-Identifier: LGPL-2.0-or-later
 */

#include <sys/time.h>
#include <stdint.h>

#include "../../../../include/test_utils_32.h"

int main(void)
{
    int ret = 0;
    int pass_count = 0;
    int fail_count = 0;

    DO_MIPS32_r(addu, 0, 0x00000000, 0x00000000, 0x00000000);
    DO_MIPS32_r(addu, 1, 0x00000001, 0x00000001, 0x00000002);
    DO_MIPS32_r(addu, 2, 0x00000002, 0x00000003, 0x00000005);
    DO_MIPS32_r(addu, 3, 0x00000004, 0x00000007, 0x0000000B);
    DO_MIPS32_r(addu, 4, 0x00000008, 0x0000000F, 0x00000017);
    DO_MIPS32_r(addu, 5, 0x00000010, 0x0000001F, 0x0000002F);
    DO_MIPS32_r(addu, 6, 0x00000020, 0x0000003F, 0x0000005F);
    DO_MIPS32_r(addu, 7, 0x00000040, 0x0000007F, 0x000000BF);
    DO_MIPS32_r(addu, 8, 0x00000080, 0x000000FF, 0x0000017F);
    DO_MIPS32_r(addu, 9, 0x00000100, 0x000001FF, 0x000002FF);
    DO_MIPS32_r(addu, 10, 0x00000200, 0x000003FF, 0x000005FF);
    DO_MIPS32_r(addu, 11, 0x00000400, 0x000007FF, 0x00000BFF);
    DO_MIPS32_r(addu, 12, 0x00000800, 0x00000FFF, 0x000017FF);
    DO_MIPS32_r(addu, 13, 0x00001000, 0x00001FFF, 0x00002FFF);
    DO_MIPS32_r(addu, 14, 0x00002000, 0x00003FFF, 0x00005FFF);
    DO_MIPS32_r(addu, 15, 0x00004000, 0x00007FFF, 0x0000BFFF);
    DO_MIPS32_r(addu, 16, 0x00008000, 0x0000FFFF, 0x00017FFF);
    DO_MIPS32_r(addu, 17, 0x00010000, 0x0001FFFF, 0x0002FFFF);
    DO_MIPS32_r(addu, 18, 0x00020000, 0x0003FFFF, 0x0005FFFF);
    DO_MIPS32_r(addu, 19, 0x00040000, 0x0007FFFF, 0x000BFFFF);
    DO_MIPS32_r(addu, 20, 0x00080000, 0x000FFFFF, 0x0017FFFF);
    DO_MIPS32_r(addu, 21, 0x00100000, 0x001FFFFF, 0x002FFFFF);
    DO_MIPS32_r(addu, 22, 0x00200000, 0x003FFFFF, 0x005FFFFF);
    DO_MIPS32_r(addu, 23, 0x00400000, 0x007FFFFF, 0x00BFFFFF);
    DO_MIPS32_r(addu, 24, 0x00800000, 0x00FFFFFF, 0x017FFFFF);
    DO_MIPS32_r(addu, 25, 0x01000000, 0x01FFFFFF, 0x02FFFFFF);
    DO_MIPS32_r(addu, 26, 0x02000000, 0x03FFFFFF, 0x05FFFFFF);
    DO_MIPS32_r(addu, 27, 0x04000000, 0x07FFFFFF, 0x0BFFFFFF);
    DO_MIPS32_r(addu, 28, 0x08000000, 0x0FFFFFFF, 0x17FFFFFF);
    DO_MIPS32_r(addu, 29, 0x10000000, 0x1FFFFFFF, 0x2FFFFFFF);
    DO_MIPS32_r(addu, 30, 0x20000000, 0x3FFFFFFF, 0x5FFFFFFF);
    DO_MIPS32_r(addu, 31, 0x40000000, 0x7FFFFFFF, 0xBFFFFFFF);
    DO_MIPS32_r(addu, 32, 0x80000000, 0xFFFFFFFF, 0x7FFFFFFF);
    DO_MIPS32_r(addu, 33, 0x00000000, 0x00000001, 0x00000001);
    DO_MIPS32_r(addu, 34, 0x80000001, 0xFFFFFFFF, 0x80000000);
    DO_MIPS32_r(addu, 35, 0xC0000003, 0x7FFFFFFD, 0x40000000);
    DO_MIPS32_r(addu, 36, 0xE0000007, 0x3FFFFFF9, 0x20000000);
    DO_MIPS32_r(addu, 37, 0xF000000F, 0x1FFFFFF1, 0x10000000);
    DO_MIPS32_r(addu, 38, 0xF800001F, 0x0FFFFFE1, 0x08000000);
    DO_MIPS32_r(addu, 39, 0xFC00003F, 0x07FFFFC1, 0x04000000);
    DO_MIPS32_r(addu, 40, 0xFE00007F, 0x03FFFF81, 0x02000000);
    DO_MIPS32_r(addu, 41, 0xFF0000FF, 0x01FFFF01, 0x01000000);
    DO_MIPS32_r(addu, 42, 0xFF8001FF, 0x00FFFE01, 0x00800000);
    DO_MIPS32_r(addu, 43, 0xFFC003FF, 0x007FFC01, 0x00400000);
    DO_MIPS32_r(addu, 44, 0xFFE007FF, 0x003FF801, 0x00200000);
    DO_MIPS32_r(addu, 45, 0xFFF00FFF, 0x001FF001, 0x00100000);
    DO_MIPS32_r(addu, 46, 0xFFF81FFF, 0x000FE001, 0x00080000);
    DO_MIPS32_r(addu, 47, 0xFFFC3FFF, 0x0007C001, 0x00040000);
    DO_MIPS32_r(addu, 48, 0xFFFE7FFF, 0x00038001, 0x00020000);
    DO_MIPS32_r(addu, 49, 0xFFFFFFFF, 0x00010001, 0x00010000);
    DO_MIPS32_r(addu, 50, 0xFFFFFFFF, 0x00018001, 0x00018000);
    DO_MIPS32_r(addu, 51, 0xFFFE7FFF, 0x00024001, 0x0000C000);
    DO_MIPS32_r(addu, 52, 0xFFFC3FFF, 0x00042001, 0x00006000);
    DO_MIPS32_r(addu, 53, 0xFFF81FFF, 0x00081001, 0x00003000);
    DO_MIPS32_r(addu, 54, 0xFFF00FFF, 0x00100801, 0x00001800);
    DO_MIPS32_r(addu, 55, 0xFFE007FF, 0x00200401, 0x00000C00);
    DO_MIPS32_r(addu, 56, 0xFFC003FF, 0x00400201, 0x00000600);
    DO_MIPS32_r(addu, 57, 0xFF8001FF, 0x00800101, 0x00000300);
    DO_MIPS32_r(addu, 58, 0xFF0000FF, 0x01000081, 0x00000180);
    DO_MIPS32_r(addu, 59, 0xFE00007F, 0x02000041, 0x000000C0);
    DO_MIPS32_r(addu, 60, 0xFC00003F, 0x04000021, 0x00000060);
    DO_MIPS32_r(addu, 61, 0xF800001F, 0x08000011, 0x00000030);
    DO_MIPS32_r(addu, 62, 0xF000000F, 0x10000009, 0x00000018);
    DO_MIPS32_r(addu, 63, 0xE0000007, 0x20000005, 0x0000000C);
    DO_MIPS32_r(addu, 64, 0xC0000003, 0x40000003, 0x00000006);
    DO_MIPS32_r(addu, 65, 0x80000001, 0x80000001, 0x00000002);
    DO_MIPS32_r(addu, 66, 0x00000000, 0x55555555, 0x55555555);
    DO_MIPS32_r(addu, 67, 0x15555555, 0x55555555, 0x6AAAAAAA);
    DO_MIPS32_r(addu, 68, 0xAAAAAAAA, 0x55555555, 0xFFFFFFFF);
    DO_MIPS32_r(addu, 69, 0xFFFFFFFF, 0x55555555, 0x55555554);
    DO_MIPS32_r(addu, 70, 0xAAAAAAAA, 0x00000000, 0xAAAAAAAA);
    DO_MIPS32_r(addu, 71, 0xAAAAAAAA, 0x55555555, 0xFFFFFFFF);
    DO_MIPS32_r(addu, 72, 0xAAAAAAAA, 0x2AAAAAAA, 0xD5555554);
    DO_MIPS32_r(addu, 73, 0xAAAAAAAA, 0xFFFFFFFF, 0xAAAAAAA9);
    DO_MIPS32_r(addu, 74, 0x7FFFFFFF, 0x00000001, 0x80000000);
    DO_MIPS32_r(addu, 75, 0x7FFFFFFF, 0x7FFFFFFF, 0xFFFFFFFE);
    DO_MIPS32_r(addu, 76, 0x80000000, 0xFFFFFFFF, 0x7FFFFFFF);
    DO_MIPS32_r(addu, 77, 0x80000000, 0x80000000, 0x00000000);
    DO_MIPS32_r(addu, 78, 0x7FFFFFFF, 0x00000001, 0x80000000);
    DO_MIPS32_r(addu, 79, 0x7FFFFFFF, 0x00007FFF, 0x80007FFE);
    DO_MIPS32_r(addu, 80, 0x80000000, 0x0000FFFF, 0x8000FFFF);
    DO_MIPS32_r(addu, 81, 0x80000000, 0x00008000, 0x80008000);
    DO_MIPS32_r(addu, 82, 0x7FFFAAAA, 0x0000555F, 0x80000009);
    DO_MIPS32_r(addu, 83, 0x7FFF5555, 0x0000AAAA, 0x7FFFFFFF);
    DO_MIPS32_r(addu, 84, 0x7FFFFFFF, 0x00000002, 0x80000001);
    DO_MIPS32_r(addu, 85, 0x7FFFFFFF, 0x00000004, 0x80000003);
    DO_MIPS32_r(addu, 86, 0x7FFFFFFF, 0x00000008, 0x80000007);
    DO_MIPS32_r(addu, 87, 0x7FFFFFFF, 0x00000010, 0x8000000F);
    DO_MIPS32_r(addu, 88, 0x7FFFFFFF, 0x00000020, 0x8000001F);
    DO_MIPS32_r(addu, 89, 0x7FFFFFFF, 0x00000040, 0x8000003F);
    DO_MIPS32_r(addu, 90, 0x7FFFFFFF, 0x00000080, 0x8000007F);
    DO_MIPS32_r(addu, 91, 0x7FFFFFFF, 0x00000100, 0x800000FF);
    DO_MIPS32_r(addu, 92, 0x7FFFFFFF, 0x00000200, 0x800001FF);
    DO_MIPS32_r(addu, 93, 0x7FFFFFFF, 0x00000400, 0x800003FF);
    DO_MIPS32_r(addu, 94, 0x7FFFFFFF, 0x00000800, 0x800007FF);
    DO_MIPS32_r(addu, 95, 0x7FFFFFFF, 0x00001000, 0x80000FFF);
    DO_MIPS32_r(addu, 96, 0x7FFFFFFF, 0x00002000, 0x80001FFF);
    DO_MIPS32_r(addu, 97, 0x7FFFFFFF, 0x00004000, 0x80003FFF);
    DO_MIPS32_r(addu, 98, 0x7FFFFFFF, 0x00001000, 0x80003FFF);

    if (fail_count) {
        ret = -1;
    }

    return ret;
}
